<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Button - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-cancel">#cancel</a>
    
    <li ><a href="#method-i-custom">#custom</a>
    
    <li ><a href="#method-i-displayed-3F">#displayed?</a>
    
    <li ><a href="#method-i-download">#download</a>
    
    <li ><a href="#method-i-new_button">#new_button</a>
    
    <li ><a href="#method-i-new_user">#new_user</a>
    
    <li ><a href="#method-i-order">#order</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Button">
  <h1 id="class-Button" class="class">
    class Button
  </h1>

  <section class="description">
    
<p>Handles the button functions in the testing framework. Each function in the <a href="Button.html"><code>Button</code></a> object is a call to click on the appropriate buttons present on the webpage. Different functions are required due to the ids of the buttons or based on whether further steps (such as clicking on a dropdown is necessary) are required by the system.</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(driver, params)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param [Object] driver - The driver that will be used during the process. @param [Object] params - The parameters that are provided along with the button command.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">driver</span>, <span class="ruby-identifier">params</span>)
  <span class="ruby-ivar">@driver</span> = <span class="ruby-identifier">driver</span>
  <span class="ruby-ivar">@params</span> = <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-cancel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cancel</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Finds and clicks on the cancel button present on the webpage.</p>
          
          

          
          <div class="method-source-code" id="cancel-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cancel</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">log_action</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>)
    <span class="ruby-comment"># Cancel button can be either a link or an actual button object</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;lnk-cancel&quot;</span>).<span class="ruby-identifier">displayed?</span>
        <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;lnk-cancel&quot;</span>).<span class="ruby-identifier">click</span>
        <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;btn-cancel&quot;</span>).<span class="ruby-identifier">displayed?</span>
        <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;btn-cancel&quot;</span>).<span class="ruby-identifier">click</span>
        <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params[0..-1].join(&#39; &#39;)})&quot;</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-custom" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">custom</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clicks on a custom button with a custom id that begins with `btn-`. If the button with the id provided cannot be found, the command returns failure.</p>
          
          

          
          <div class="method-source-code" id="custom-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 106</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">custom</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">log_action</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;btn-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@params</span>[<span class="ruby-value">0</span>]).<span class="ruby-identifier">displayed?</span>
      <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;btn-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@params</span>[<span class="ruby-value">0</span>]).<span class="ruby-identifier">click</span>
      <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;\nAn error of type #{ex.class} happened in #{@params[0]}.\n&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;\nAn error of type #{ex.class} happened in #{@params[0]}.\n&quot;</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-displayed-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">displayed?</span><span
            class="method-args">(id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a true /if a button with a particular id is displayed, and vice-versa. @param [Object] id - id of the button element searched for</p>
          
          

          
          <div class="method-source-code" id="displayed-3F-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">displayed?</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$session</span>.<span class="ruby-identifier">wait_until</span>(<span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;btn-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">id</span>).<span class="ruby-identifier">displayed?</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;btn-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">id</span>).<span class="ruby-identifier">displayed?</span>
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-download" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">download</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clicks 0n the download button present on the webpage.</p>
          
          

          
          <div class="method-source-code" id="download-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">download</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">log_action</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>)
    <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:partial_link_text</span>, <span class="ruby-string">&quot;Download&quot;</span>).<span class="ruby-identifier">click</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-new_button" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_button</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clicks on a general New button or a specific New button allocated to an object on the webpage.</p>
          
          

          
          <div class="method-source-code" id="new_button-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">new_button</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">log_action</span>(<span class="ruby-node">&quot;button(#{@params[0..-1].join(&#39; &#39;)})&quot;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@params</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">nil?</span>
      <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:link_text</span>, <span class="ruby-string">&#39;New&#39;</span>).<span class="ruby-identifier">click</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># If the New Button has multiple options, choose the right one from the dropdown menu.</span>
      <span class="ruby-identifier">buttons</span> = <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_elements</span>(<span class="ruby-value">:class</span>, <span class="ruby-string">&#39;caret&#39;</span>)
      <span class="ruby-identifier">buttons</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">click</span>
      <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:link_text</span>, <span class="ruby-ivar">@params</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">capitalize</span>).<span class="ruby-identifier">click</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">$session</span>.<span class="ruby-identifier">wait_for_stale</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params.join(&#39; &#39;)})&quot;</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-new_user" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new_user</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clicks on the new user button. This function is required since the new user buttons have the &#39;user&#39; keyword in front of it.</p>
          
          

          
          <div class="method-source-code" id="new_user-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">new_user</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">log_action</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>)
    <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:id</span>, <span class="ruby-string">&quot;user-new-btn&quot;</span>).<span class="ruby-identifier">click</span>
    <span class="ruby-identifier">sleep</span> <span class="ruby-value">2</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-order" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">order</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clicks on the order button present on the webpage. The order button has Bid or Ask options. Based on the parameter provided in the script, click on the right button.</p>
          
          

          
          <div class="method-source-code" id="order-source">
            <pre><span class="ruby-comment"># File lib/elements/button.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">order</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">log_action</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>)
    <span class="ruby-identifier">dropdown</span> = <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_elements</span>(<span class="ruby-value">:css</span>, <span class="ruby-string">&quot;.btn.btn-link.dropdown-toggle&quot;</span>)
    <span class="ruby-identifier">dropdown</span>[<span class="ruby-ivar">@params</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>].<span class="ruby-identifier">click</span>
    <span class="ruby-identifier">sleep</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@params</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">capitalize</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Bid&#39;</span>
      <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:xpath</span>, <span class="ruby-node">&quot;//*[@id=&#39;header-TEEQ&#39;]/td[#{@params[1].to_i - 1}]/ul/li[1]/button&quot;</span>).<span class="ruby-identifier">click</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@params</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">capitalize</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Ask&#39;</span>
      <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">find_element</span>(<span class="ruby-value">:xpath</span>, <span class="ruby-node">&quot;//*[@id=&#39;header-TEEQ&#39;]/td[#{@params[1].to_i - 1}]/ul/li[2]/button&quot;</span>).<span class="ruby-identifier">click</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">success</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">$results</span>.<span class="ruby-identifier">fail</span>(<span class="ruby-node">&quot;button(#{@params[0]})&quot;</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

